(this["webpackJsonpkronos-tracker"]=this["webpackJsonpkronos-tracker"]||[]).push([[0],{130:function(e,t,n){},244:function(e,t,n){"use strict";n.r(t);var o=n(0),c=n.n(o),r=n(11),a=n.n(r),s=(n(130),n(118)),i=n(19),l=n(10),d=n(27),u=(n(93),n(12)),b=n(13),j=n(67),x=n.n(j),h=n(32),m=n.n(h),f=n(50),g=n(33),p=(n(245),{apiKey:"AIzaSyC32KNYFj_GjSEQppSE9nDrgc1QZuVo3X8",authDomain:"tidy-up-32957.firebaseapp.com",projectId:"tidy-up-32957",storageBucket:"tidy-up-32957.appspot.com",messagingSenderId:"237484609062",appId:"1:237484609062:web:2c8ccca0b1a7c32a0a20e7"}),O=new d.a.auth.GoogleAuthProvider;d.a.initializeApp(p),d.a.auth().setPersistence(d.a.auth.Auth.Persistence.LOCAL);var v=d.a.firestore();v.settings({timestampsInSnapshots:!0});var y="todo-react-trial",w=function(){d.a.auth().signOut().then((function(){console.log("Sign out successful")})).catch((function(e){}))},N=function(){var e=Object(f.a)(m.a.mark((function e(t){var n,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Fetching Docs"),n=[],o=v.collection(y).doc(t.uid).collection("todos"),e.next=5,o.get().then((function(e){e.forEach((function(e){n.push(e.data()),console.log(e.id," => ",e.data())}))})).catch((function(e){console.log("Error getting documents: ",e)}));case 5:return console.log("DB.JS",n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(f.a)(m.a.mark((function e(t,n){var o,c,r,a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new Date,c=o.toISOString().split("T")[0],r=5-parseInt(n.priority)+2,(a=[0,0,0,0])[n.priority-1]=1,e.next=7,v.collection(y).doc(t.uid).collection("points").where("date","==",c).get();case 7:(s=e.sent).empty?v.collection(y).doc(t.uid).collection("points").add({date:c,points:r,count:a}).then((function(){console.log("Added points: ",r)})):s.forEach((function(e){var t=parseInt(e.data().points)+r,o=e.data().count;console.log(o),o[n.priority-1]+=1,e.ref.update({date:c,points:t,count:o})}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(m.a.mark((function e(t){var n,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Fetching Points"),n=[],o=v.collection(y).doc(t.uid).collection("points"),e.next=5,o.get().then((function(e){e.forEach((function(e){n.push(e.data()),console.log(e.id," => ",e.data())}))})).catch((function(e){console.log("Error getting documents: ",e)}));case 5:return console.log("Points: ",n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=n(48),C=n(3),D=function(e){var t=[0,0,0,0];return void 0===e||0===e.length||e.forEach((function(e){e.count.forEach((function(e,n){t[n]+=e}))})),t};var E=function(e){var t=e.points,n=Object(o.useState)(window.innerWidth),c=Object(l.a)(n,2),r=c[0],a=c[1];return Object(o.useEffect)((function(){window.addEventListener("resize",(function(){a(window.innerWidth)}))})),Object(C.jsx)(S.Pie,{data:{labels:["High Importance + Urgent","High Importance + Not Urgent","Low Importance + Urgent","Low Importance + Not Urgent"],datasets:[{data:D(t),backgroundColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(75, 192, 192, 1)","rgba(255, 206, 86, 1)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(75, 192, 192, 1)","rgba(255, 206, 86, 1)"],borderWidth:2,hoverBorderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(75, 192, 192, 1)","rgba(255, 206, 86, 1)"]}]},height:r<=768?300:400,width:r<=768?450:600,options:{maintainAspectRatio:!1,legend:{labels:{fontSize:15}}}})},I=function(){var e=new Date;e.setDate(e.getDate()-10);e.toISOString().split("T")[0];for(var t=0,n=[];t<10;){e.setDate(e.getDate()+1);var o=e.toISOString().split("T")[0].split("-");n.push(o[2]+"/"+o[1]+"/"+o[0]),t+=1}return console.log(n),n},z=function(e){var t=function(){var e=new Date;e.setDate(e.getDate()-10);for(var t=e.toISOString().split("T")[0],n=0,o=[];n<10;)e.setDate(e.getDate()+1),t=e.toISOString().split("T")[0],o.push(t),n+=1;return console.log(o),o}(),n=[];return t.forEach((function(t){var o=e.filter((function(e){return e.date===t}));n.push(o.reduce((function(e,t){return e+t.points}),0))})),n};var A=function(e){var t=e.points;return Object(C.jsx)(S.Line,{data:{labels:I(),datasets:[{label:"Daily Performance",data:z(t),backgroundColor:["rgba(75, 0, 130,0.6)"],borderWidth:1}]},height:400,width:600,options:{maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]},legend:{labels:{fontSize:25}}}})},B=function(e){var t=[0,0,0,0];return void 0===e||0===e.length||e.forEach((function(e){e.count.forEach((function(e,n){t[n]+=e}))})),t};var L=function(e){var t=e.points,n=Object(o.useState)(window.innerWidth),c=Object(l.a)(n,2),r=c[0],a=c[1];return Object(o.useEffect)((function(){window.addEventListener("resize",(function(){a(window.innerWidth)}))})),Object(C.jsx)(S.Bar,{data:{labels:["1","2","3","4"],datasets:[{label:"Priority score",data:B(t),backgroundColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(75, 192, 192, 1)","rgba(255, 206, 86, 1)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(75, 192, 192, 1)","rgba(255, 206, 86, 1)"],borderWidth:2,hoverBorderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(75, 192, 192, 1)","rgba(255, 206, 86, 1)"]}]},height:r<=768?150:400,width:r<=768?225:600,options:{maintainAspectRatio:!0,scales:{yAxes:[{ticks:{beginAtZero:!0}}]},legend:{labels:{fontSize:15}}}})};var F=function(e){var t=e.user,n=Object(o.useState)([]),c=Object(l.a)(n,2),r=c[0],a=c[1];return Object(o.useEffect)((function(){console.log("Chart mounted..."),k(t).then((function(e){a(e)}))}),[]),Object(o.useEffect)((function(){console.log("Points array upd",r)}),[r]),Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:Object(C.jsx)(A,{points:r})}),Object(C.jsxs)("div",{className:"flex flex-col md:flex-row justify-around items-center pt-16",children:[Object(C.jsx)("div",{children:Object(C.jsx)(E,{points:r})}),Object(C.jsx)("div",{className:"md:pt-0 pt-8 pb-8",children:Object(C.jsx)(L,{points:r})})]})]})},P=n(280),M=n(119),U=n(74),_=function(e){return e.replace(/-/g,"").replace(/:/g,"").split(".")[0]+"Z"};function H(e){console.log(e);var t=e.content,n="";n=1===e.priority?"high importance and urgent":2===e.priority?"high importance and not urgent":3===e.priority?"low importance and urgent":"low importance and not urgent";var o=e.schedule;if(e.isSchedule){var c=e.duration,r=new Date(new Date(o).getTime()+6e4*c).toISOString(),a=_(new Date(o).toISOString()),s=_(r.toString());return"https://www.google.com/calendar/render?action=TEMPLATE&text=".concat(t,"&details=").concat(n,"&dates=").concat(a,"%2F").concat(s)}return"https://www.google.com/calendar/render?action=TEMPLATE&text=".concat(t,"&details=").concat(n)}var W=function(e){var t=e.todo,n=e.giveUpFn,c=e.completeFn,r={info:{color:"green"},warning:{color:"orange",threshold:10},alert:{color:"red",threshold:5}},a=null,s=0,i=null,d=null,j=r.info.color;function x(){return(x=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t,d=setInterval((function(){s=s+=1,i=t-s,document.getElementById("base-timer-label")&&(document.getElementById("base-timer-label").innerHTML=D(i)),I(),E(i),0===i&&S()}),1e3),console.log(d);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=Object(o.useState)(),g=Object(l.a)(h,2),p=g[0],O=g[1],v=Object(o.useState)(!1),y=Object(l.a)(v,2),w=y[0],N=y[1];Object(o.useEffect)((function(){t&&void 0!==t.duration&&function(e){x.apply(this,arguments)}(60*t.duration)}),[t]),Object(o.useEffect)((function(){O(new Audio("/assets/rain.mp3")),N(!1)}),[]);var T=function(){N((function(){return!0})),p.play()},k=function(){N((function(){return!1})),p.pause()};function S(){clearInterval(d)}function D(e){var t=Math.floor(e/60),n=e%60;return n<10&&(n="0".concat(n)),"".concat(t,":").concat(n)}function E(e){var t=r.alert,n=r.warning,o=r.info;e<=t.threshold?(document.getElementById("base-timer-path-remaining").classList.remove(n.color),document.getElementById("base-timer-path-remaining").classList.add(t.color)):e<=n.threshold&&(document.getElementById("base-timer-path-remaining").classList.remove(o.color),document.getElementById("base-timer-path-remaining").classList.add(n.color))}function I(){var e="".concat((283*function(){var e=i/a;return e-1/a*(1-e)}()).toFixed(0)," 283");document.getElementById("base-timer-path-remaining")&&document.getElementById("base-timer-path-remaining").setAttribute("strokeDasharray",e)}return Object(C.jsxs)("div",{className:"countdown-wrap",children:[Object(C.jsx)("div",{id:"app",className:"countdown-app border border-red-700",children:Object(C.jsxs)("div",{className:"base-timer ",children:[Object(C.jsx)("svg",{className:"base-timer__svg",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:Object(C.jsxs)("g",{className:"base-timer__circle",children:[Object(C.jsx)("circle",{className:"base-timer__path-elapsed",cx:"50",cy:"50",r:"45"}),Object(C.jsx)("path",{id:"base-timer-path-remaining",strokeDasharray:"283",class:"base-timer__path-remaining ".concat(j),d:" M 50, 50 m -45, 0 a 45,45 0 1,0 90,0 a 45,45 0 1,0 -90,0"})]})}),Object(C.jsx)("span",{id:"base-timer-label",className:"base-timer__label",children:D(i)})]})}),Object(C.jsxs)("div",{className:"countdown-button-wrap w-80 pt-8 flex justify-around",children:[Object(C.jsxs)("div",{onClick:function(){S(),n()},className:"countdown-button px-4 py-4 hover:bg-red-500 cursor-pointer transform hover:scale-110",children:[Object(C.jsx)(u.a,{icon:b.f,size:"2x",className:"mr-2"})," ","Give Up"]}),Object(C.jsxs)("div",{onClick:function(){S(),c(t)},className:"countdown-button px-4 py-4 hover:bg-green-500 cursor-pointer transform hover:scale-110",children:[Object(C.jsx)(u.a,{icon:b.c,size:"2x",className:"mr-2"}),"Done"]})]}),Object(C.jsx)("div",{className:"countdown-button mt-4 p-1",children:w?Object(C.jsx)("button",{onClick:k,children:Object(C.jsx)(u.a,{size:"3x",icon:b.j})}):Object(C.jsx)("button",{onClick:T,className:"",children:Object(C.jsx)(u.a,{size:"3x",icon:b.k})})})]})},R=n(281),V=n(279),q=n(278);function G(e){var t=e.priority,n=e.closeModalHandler,c=e.addTodoItem,r=Object(o.useState)(""),a=Object(l.a)(r,2),s=a[0],i=a[1],d=Object(o.useState)(25),u=Object(l.a)(d,2),b=u[0],j=u[1],x=Object(o.useState)((new Date).toISOString()),h=Object(l.a)(x,2),m=h[0],f=h[1],g=Object(o.useState)(!1),p=Object(l.a)(g,2),O=p[0],v=p[1];return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:Object(C.jsx)("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:Object(C.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[Object(C.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t",children:[Object(C.jsx)("h3",{className:"text-3xl font-semibold",children:"Add New Todo"}),Object(C.jsx)("button",{className:"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:n,children:Object(C.jsx)("span",{className:"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none",children:"\xd7"})})]}),Object(C.jsx)("div",{className:"relative p-6 flex-auto",children:Object(C.jsxs)("form",{children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{className:"block text-lg",children:Object(C.jsx)("span",{children:"Todo Title"})}),Object(C.jsx)("input",{autoFocus:!0,className:"text-lg rounded-l-lg mt-2 px-4 py-2 border text-gray-800 border-gray-200 bg-white focus:outline-none",placeholder:"Water the plants!",value:s,onChange:function(e){i((function(){return e.target.value}))}})]}),Object(C.jsxs)("div",{className:"mt-4",children:[Object(C.jsx)("label",{className:"block text-lg",children:Object(C.jsxs)("p",{children:["Duration:"," ",Object(C.jsxs)("span",{className:"font-bold",children:[b," mins"]})]})}),Object(C.jsx)("div",{className:"mt-7",children:Object(C.jsx)(R.a,{defaultValue:25,getAriaValueText:function(e){j((function(){return e})),console.log(e)},"aria-labelledby":"discrete-slider-small-steps",step:5,marks:!0,min:5,max:60,valueLabelDisplay:"auto"})})]}),Object(C.jsxs)("div",{children:[Object(C.jsxs)("label",{className:"block text-lg",children:[Object(C.jsx)("span",{children:"Schedule"}),Object(C.jsx)(V.a,{checked:O,onChange:function(e){v(e.target.checked)},inputProps:{"aria-label":"primary checkbox"}})]}),O?Object(C.jsx)(q.a,{id:"datetime-local",type:"datetime-local",value:m,onChange:function(e){f(e.target.value)},InputLabelProps:{shrink:!0}}):null]})]})}),Object(C.jsxs)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-gray-300 rounded-b",children:[Object(C.jsx)("button",{className:"text-red-500 hover:bg-red-500 hover:text-white background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 rounded",type:"button",style:{transition:"all .15s ease"},onClick:n,children:"Close"}),Object(C.jsx)("button",{className:"bg-green-500 text-white active:bg-green-600 font-bold uppercase text-sm px-6 py-2 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 transform hover:scale-110",type:"button",style:{transition:"all .15s ease"},onClick:function(){c(s,t,b,m,O),i(""),n()},children:"Save Changes"})]})]})})}),Object(C.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]})})}function Z(e){var t=e.quote,n=e.index,o=e.markTodoDone,c=e.bgColor,r=e.deleteTodo,a=e.setTimerValues;return Object(C.jsx)(U.b,{draggableId:t.id,index:n,children:function(e,n){return Object(C.jsx)("div",Object(g.a)(Object(g.a)(Object(g.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:(n.isDragging,s=e.draggableProps.style,Object(g.a)({userSelect:"none"},s)),className:"pt-3",children:Object(C.jsxs)("div",{className:"mx-2 rounded-lg bg-".concat(c,"-500 hover:bg-").concat(c,"-600 transtion duration-200 text-white py-1 grid grid-cols-3 items-center todo-reveal"),children:[Object(C.jsx)("div",{className:"px-2 text-xl col-span-2",children:t.content}),Object(C.jsxs)("div",{className:"flex justify-around items-center",children:[Object(C.jsxs)("div",{className:"text-".concat(c,"-400 cursor-pointer hover:text-green-300 tooltip"),onClick:function(){o(t)},children:[Object(C.jsx)(u.a,{icon:b.d,size:"2x"}),Object(C.jsx)("span",{className:"tooltiptext",children:"Mark as done"})]}),Object(C.jsxs)("a",{href:H(t),target:"_blank",rel:"noreferrer",className:"text-".concat(c,"-400 hover:text-indigo-300 tooltip"),children:[Object(C.jsx)(u.a,{icon:b.a,size:"2x"}),Object(C.jsx)("span",{className:"tooltiptext",children:"Add to calender"})]}),Object(C.jsxs)("div",{className:"text-".concat(c,"-400 cursor-pointer hover:text-gray-300 tooltip"),onClick:function(){a(t)},children:[Object(C.jsx)(u.a,{icon:b.k,size:"2x"}),Object(C.jsx)("span",{className:"tooltiptext",children:"Start timer"})]}),Object(C.jsxs)("div",{className:"text-".concat(c,"-400 cursor-pointer hover:text-black tooltip"),onClick:function(){r(t)},children:[Object(C.jsx)(u.a,{icon:b.p,size:"2x"}),Object(C.jsx)("span",{className:"tooltiptext",children:"Delete"})]})]})]})}));var s}})}var J=c.a.memo((function(e){var t=e.quotes,n=e.bgColor,o=e.markTodoDone,c=e.deleteTodo,r=e.setTimerValues;return t.map((function(e,t){return Object(C.jsx)(Z,{quote:e,index:t,markTodoDone:o,deleteTodo:c,bgColor:n,setTimerValues:r},e.id)}))}));var K=function(e){var t=e.bgColor,n=e.priority,c=e.addTodoToDB,r=e.markTodoToDB,a=e.deleteTodoToDB,s=e.allTodos,i=Object(o.useState)((function(){return[]})),d=Object(l.a)(i,2),j=d[0],h=d[1],m=Object(o.useState)(!1),f=Object(l.a)(m,2),p=f[0],O=f[1],v=Object(o.useState)({}),y=Object(l.a)(v,2),w=y[0],N=y[1];Object(o.useEffect)((function(){console.log("Card",s),h((function(){return s.filter((function(e){return e.priority===n&&!e.completed}))}))}),[s]);var T=Object(C.jsx)("div",{className:"rounded-full border border-".concat(t,"-700 shadow-md hover:shadow-lg bg-white text-").concat(t,"-700 transform transition duration-300 ease-in-out hover:scale-125"),children:Object(C.jsx)(u.a,{icon:b.l,size:"3x"})}),k=function(e){r(e),h((function(t){return t.filter((function(t){return t.id!==e.id}))}))},S=function(e){a(e),h((function(t){return t.filter((function(t){return t.id!==e.id}))}))},D=function(){N((function(){return{showTimer:!1}}))},E=function(e){k(e),N((function(){return{showTimer:!1}}))},I=function(e){N((function(){return{todo:e,showTimer:!0,giveUpFn:D,completeFn:E}}))};return Object(C.jsxs)("div",{className:"h-full overflow-hidden relative",children:[Object(C.jsxs)("div",{className:"".concat("bg-".concat(t,"-200")," h-full overflow-y-scroll relative rounded-lg"),children:[p?Object(C.jsx)(G,{priority:n,closeModalHandler:function(){O(!1)},addTodoItem:function(e,t,n,o,r){var a=(j.length+1).toString();r||(o=""),c({id:a,content:e,priority:t,duration:n,schedule:o,isSchedule:r}),h((function(c){return[].concat(Object(M.a)(c),[{id:a,content:e,priority:t,duration:n,schedule:o,isSchedule:r}])}))}}):null,Object(C.jsx)("div",{className:"mb-16",children:Object(C.jsx)(U.a,{onDragEnd:function(e){if(console.log(e),e.destination&&e.destination.index!==e.source.index){var t=function(e,t,n){var o=Array.from(e),c=o.splice(t,1),r=Object(l.a)(c,1)[0];return o.splice(n,0,r),o}(j,e.source.index,e.destination.index);h(t)}},children:Object(C.jsx)(U.c,{droppableId:"list",children:function(e){return Object(C.jsxs)("div",Object(g.a)(Object(g.a)({ref:e.innerRef},e.droppableProps),{},{children:[Object(C.jsx)(J,{quotes:j,markTodoDone:k,deleteTodo:S,bgColor:t,setTimerValues:I}),e.placeholder]}))}})})})]}),Object(C.jsx)("button",{className:"absolute bottom-0 right-0 pb-3 pr-3 outline-none focus:outline-none",type:"button",onClick:function(){return O(!0)},children:T}),Object(C.jsx)("div",{children:Object(C.jsx)(x.a,{ariaHideApp:!1,isOpen:w.showTimer,contentLabel:"Minimal Modal Example",children:Object(C.jsx)(W,{todo:w.todo,giveUpFn:w.giveUpFn,completeFn:w.completeFn})})})]})};var Q=function(e){var t=e.showChartFn,n=e.showProfileFn;return Object(C.jsxs)("div",{className:"h-screen z-30 fixed inset-y-0 left-0 w-14",children:[Object(C.jsx)("div",{className:"h-screen w-14 hidden md:flex items-center",children:Object(C.jsxs)("div",{className:" w-full rounded-3xl flex flex-col rounded-l-none bg-gray-300",children:[Object(C.jsx)("div",{className:"px-2 py-6 cursor-pointer font-bold rounded-3xl rounded-l-none rounded-b-none text-gray-800 hover:bg-yellow-400 hover:text-white transform hover:translate-x-1 transition duration-300",onClick:n,children:Object(C.jsx)(u.a,{icon:b.r,size:"2x"})}),Object(C.jsx)("div",{className:"px-2 py-6 cursor-pointer font-bold text-gray-800 hover:bg-green-400 hover:text-white transform hover:translate-x-1 transition duration-300",onClick:t,children:Object(C.jsx)(u.a,{icon:b.b,size:"2x"})}),Object(C.jsx)("div",{onClick:w,className:"px-2 py-6 cursor-pointer font-bold rounded-3xl rounded-l-none rounded-t-none text-gray-800 hover:bg-red-400 hover:text-white transform hover:translate-x-1 transition duration-300",children:Object(C.jsx)(u.a,{icon:b.n,size:"2x"})})]})}),Object(C.jsx)("div",{className:"w-screen bg-gray-400 rounded-3xl rounded-b-none fixed bottom-0 h-16 flex md:hidden justify-items-center items-center",children:Object(C.jsxs)("div",{className:"flex w-full justify-around",children:[Object(C.jsx)("div",{className:"px-2 py-4 rounded-3xl rounded-b-none rounded-r-none font-bold text-gray-800 hover:bg-yellow-400 hover:text-white w-full text-center transform hover:-translate-y-1 transition duration-300",onClick:n,children:Object(C.jsx)(u.a,{icon:b.r,size:"2x"})}),Object(C.jsx)("div",{className:"px-2 py-4 font-bold text-gray-800 hover:bg-green-400 hover:text-white w-full text-center transform hover:-translate-y-1 transition duration-300",onClick:t,children:Object(C.jsx)(u.a,{icon:b.b,size:"2x"})}),Object(C.jsx)("div",{onClick:w,className:"px-2 py-4 rounded-3xl rounded-b-none rounded-l-none font-bold text-gray-800 hover:bg-red-400 hover:text-white w-full text-center transform hover:-translate-y-1 transition duration-300",children:Object(C.jsx)(u.a,{icon:b.n,size:"2x"})})]})})]})},X=function(e){return e.reduce((function(e,t){return e+t.points}),0)},Y=function(e){var t=e.map((function(e){return[e.points,e.date]}));return t.sort((function(e,t){return t[0]-e[0]})),t.length>0?t[0]:[0,"N/A"]},$=function(e){var t=e.map((function(e){return e.date}));t.sort();var n=0,o=0;if(0===t.length)return 0;if(1===t.length)return 1;for(var c=1;c<t.length;c+=1){new Date(t[c]).getTime()-new Date(t[c-1]).getTime()<=864e5?o+=1:o=0,n=Math.max(n,o)}return n},ee=function(e){var t=e.map((function(e){return e.date}));t.sort(),t.reverse();var n=0;if(0===t.length)return 0;if(1===t.length)return 1;for(var o=1;o<t.length;o+=1){var c=new Date(t[o]).getTime();if(!(new Date(t[o-1]).getTime()-c<=864e5))break;n+=1}return n},te=function(e){return e.filter((function(e){return e.completed})).length},ne=function(e){return e.filter((function(e){return!e.completed})).length};var oe=function(e){var t=e.user,n=Object(o.useState)([]),c=Object(l.a)(n,2),r=c[0],a=c[1],s=Object(o.useState)([]),i=Object(l.a)(s,2),d=i[0],j=i[1],x=Object(o.useState)({name:"Guest",email:"guest@address.com",img:"https://raw.githubusercontent.com/arnabsen1729/static-content/master/tidy/default-avatar.png"}),h=Object(l.a)(x,2),m=h[0],f=h[1];return Object(o.useEffect)((function(){console.log("Chart mounted..."),k(t).then((function(e){a(e)})),N(t).then((function(e){j(e)}))}),[]),Object(o.useEffect)((function(){console.log("Points array upd",r)}),[r]),Object(o.useEffect)((function(){var e;f((e=t).isAnonymous?{name:"Guest",email:"guest@address.com",img:"https://raw.githubusercontent.com/arnabsen1729/static-content/master/tidy/default-avatar.png"}:{name:e.displayName,email:e.email,img:e.photoURL})}),[t]),Object(o.useEffect)((function(){console.log("TODOS:",d)}),[d]),Object(C.jsxs)("div",{className:"border rounded-lg bg-white m-auto border-gray-400 mt-36 w-2/3 h-auto grid grid-cols-3",children:[Object(C.jsxs)("div",{className:"mt-12 col-span-2",children:[Object(C.jsxs)("div",{className:"flex justify-around",children:[Object(C.jsx)("div",{className:"",children:Object(C.jsx)("div",{className:"w-48 h-48 relative mb-4",children:Object(C.jsx)("div",{className:"group w-full h-full rounded-full overflow-hidden shadow-inner text-center bg-purple table cursor-pointer",children:Object(C.jsx)("img",{src:m.img,alt:"lovely avatar",className:"object-cover object-center w-full h-full visible group-hover:hidden"})})})}),Object(C.jsxs)("div",{className:"pt-10",children:[Object(C.jsx)("div",{className:"text-4xl font-bold",children:m.name}),Object(C.jsx)("div",{className:"text-2xl text-gray-700",children:m.email})]})]}),Object(C.jsxs)("div",{className:"flex py-2 my-4 text-center px-4 justify-around",children:[Object(C.jsx)("div",{className:"w-1/3 px-2",children:Object(C.jsxs)("div",{className:"border-2 border-gray-200 px-4 py-6 rounded-lg",children:[Object(C.jsx)(u.a,{icon:b.i,size:"2x"}),Object(C.jsx)("h2",{className:"title-font font-medium text-3xl text-gray-900",children:X(r)}),Object(C.jsx)("p",{className:"leading-relaxed",children:"Points"})]})}),Object(C.jsx)("div",{className:"w-1/3 px-2",children:Object(C.jsxs)("div",{className:"border-2 border-gray-200 px-4 py-6 rounded-lg",children:[Object(C.jsx)(u.a,{icon:b.g,size:"2x"}),Object(C.jsx)("h2",{className:"title-font font-medium text-3xl text-gray-900",children:te(d)}),Object(C.jsx)("p",{className:"leading-relaxed",children:"Completed Todos"})]})}),Object(C.jsx)("div",{className:"w-1/3 px-2",children:Object(C.jsxs)("div",{className:"border-2 border-gray-200 px-4 py-6 rounded-lg",children:[Object(C.jsx)(u.a,{icon:b.e,size:"2x"}),Object(C.jsx)("h2",{className:"title-font font-medium text-3xl text-gray-900",children:ne(d)}),Object(C.jsx)("p",{className:"leading-relaxed",children:"Left Todos"})]})})]})]}),Object(C.jsx)("div",{className:"mt-5",children:Object(C.jsxs)("div",{className:"flex flex-col px-5 space-y-6",children:[Object(C.jsx)("div",{className:"",children:Object(C.jsx)("div",{className:"border-l-8 border-red-600 bg-red-200 px-4 py-4",children:Object(C.jsxs)("div",{className:"flex justify-around",children:[Object(C.jsx)(u.a,{icon:b.i,size:"2x",className:"my-auto"}),Object(C.jsxs)("div",{className:"text-center",children:[Object(C.jsx)("p",{className:"text-sm font-medium text-black-600 ",children:"Most productive"}),Object(C.jsx)("p",{className:"text-2xl font-bold text-gray-700",children:Y(r)[1]})]})]})})}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)("div",{className:"border-l-8 border-blue-600 bg-blue-200 px-4 py-4",children:Object(C.jsxs)("div",{className:"flex justify-around",children:[Object(C.jsx)(u.a,{icon:b.h,size:"2x",className:"my-auto"}),Object(C.jsxs)("div",{className:"text-center",children:[Object(C.jsx)("p",{className:"text-sm font-medium text-black-600 ",children:"Max points"}),Object(C.jsx)("p",{className:"text-2xl font-bold text-gray-700",children:Y(r)[0]})]})]})})}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)("div",{className:"border-l-8 border-yellow-600 bg-yellow-200 px-4 py-4",children:Object(C.jsxs)("div",{className:"flex justify-around",children:[Object(C.jsx)(u.a,{icon:b.o,size:"2x",className:"my-auto"}),Object(C.jsxs)("div",{className:"text-center",children:[Object(C.jsx)("p",{className:"text-sm font-medium text-black-600 ",children:"Longest Streak"}),Object(C.jsx)("p",{className:"text-2xl font-bold text-gray-700",children:$(r)})]})]})})}),Object(C.jsx)("div",{className:"",children:Object(C.jsx)("div",{className:"border-l-8 border-green-600 bg-green-200 px-4 py-4",children:Object(C.jsxs)("div",{className:"flex justify-around",children:[Object(C.jsx)(u.a,{icon:b.m,size:"2x",className:"my-auto"}),Object(C.jsxs)("div",{className:"text-center",children:[Object(C.jsx)("p",{className:"text-sm font-medium text-black-600 ",children:"Current Streak"}),Object(C.jsx)("p",{className:"text-2xl font-bold text-gray-700",children:ee(r)})]})]})})})]})})]})};var ce=function(e){var t=e.user,n=e.isAuthorized,c=Object(o.useState)([]),r=Object(l.a)(c,2),a=r[0],s=r[1],i=Object(o.useState)(!1),d=Object(l.a)(i,2),u=d[0],b=d[1],j=Object(o.useState)(!1),h=Object(l.a)(j,2),m=h[0],f=h[1],p=function(e){return"text-3xl font-bold text-".concat(e,"-700")},O=function(e){!function(e,t){v.collection(y).doc(e.uid).collection("todos").add(Object(g.a)(Object(g.a)({},t),{},{completed:!1})).then((function(){console.log("ADDED:",t)}))}(t,e)},w=function(e){T(t,e),function(e,t){console.log("Marking.. ",t),v.collection(y).doc(e.uid).collection("todos").where("id","==",t.id).where("priority","==",t.priority).get().then((function(e){e.forEach((function(e){e.ref.update({completed:!0}),console.log(e.id," => ",e.data())}))})).catch((function(e){console.log("Error getting documents: ",e)}))}(t,e)},k=function(e){!function(e,t){console.log("Deleting... ",t),v.collection(y).doc(e.uid).collection("todos").where("id","==",t.id).where("priority","==",t.priority).get().then((function(e){e.forEach((function(e){e.ref.delete().then((function(){console.log("Document deleted...")})).catch((function(e){console.log("Error getting documents: ",e)})),console.log(e.id," => ",e.data())}))})).catch((function(e){console.log("Error getting documents: ",e)}))}(t,e)};Object(o.useEffect)((function(){n&&N(t).then((function(e){s((function(){return e}))}))}),[n]);var S=Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Q,{showChartFn:function(){b((function(){return!0}))},showProfileFn:function(){f((function(){return!0}))},allTodos:a}),Object(C.jsxs)("div",{className:"pl-0 md:pl-16 md:h-screen w-full md:pt-5",children:[Object(C.jsxs)("div",{className:"md:h-1/2 md:flex md:flex-row w-full",children:[Object(C.jsxs)("div",{className:"h-96 md:h-full px-3 w-screen md:w-1/2 flex flex-col",children:[Object(C.jsx)("h1",{className:p("red"),children:"High Importance + Urgent"}),Object(C.jsx)(K,{priority:1,allTodos:a,bgColor:"red",addTodoToDB:O,markTodoToDB:w,deleteTodoToDB:k})]}),Object(C.jsxs)("div",{className:"h-96 md:h-full px-3 w-screen md:w-1/2 flex flex-col",children:[Object(C.jsx)("h1",{className:p("blue"),children:"High Importance + Not Urgent"}),Object(C.jsx)(K,{priority:2,allTodos:a,bgColor:"blue",addTodoToDB:O,markTodoToDB:w,deleteTodoToDB:k})]})]}),Object(C.jsxs)("div",{className:"md:h-1/2 md:flex md:flex-row w-full pb-2 mb-16 md:mb-0",children:[Object(C.jsxs)("div",{className:"h-96 md:h-full px-3 w-screen md:w-1/2 flex flex-col",children:[Object(C.jsx)("h1",{className:p("green"),children:"Low Importance + Urgent"}),Object(C.jsx)(K,{priority:3,bgColor:"green",allTodos:a,addTodoToDB:O,markTodoToDB:w,deleteTodoToDB:k})]}),Object(C.jsxs)("div",{className:"h-96 md:h-full px-3 w-screen md:w-1/2 flex flex-col",children:[Object(C.jsx)("h1",{className:p("yellow"),children:"Low Importance + Not Urgent"}),Object(C.jsx)(K,{priority:4,allTodos:a,bgColor:"yellow",addTodoToDB:O,markTodoToDB:w,deleteTodoToDB:k})]})]}),Object(C.jsx)("div",{children:Object(C.jsx)(x.a,{onRequestClose:function(){return b(!1)},shouldCloseOnEsc:!0,ariaHideApp:!1,isOpen:u,contentLabel:"Minimal Modal Example",children:Object(C.jsx)(F,{user:t})})}),Object(C.jsx)("div",{children:Object(C.jsx)(P.a,{open:m,onClose:function(){return f(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(C.jsx)(oe,{user:t,allTodos:a})})})]})]});return Object(C.jsx)(C.Fragment,{children:S})};console.log(p);var re=function(){var e=Object(o.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(o.useState)(null),a=Object(l.a)(r,2),s=a[0],i=a[1];Object(o.useEffect)((function(){console.log("Mounted..."),console.log(n),d.a.auth().onAuthStateChanged((function(e){e?(i(e),c(!0)):(c(!1),i(null))}))}),[]);var j=function(){d.a.auth().signInWithPopup(O).then((function(e){var t=e.user;i(t),c(!0),d.a.auth().setPersistence(d.a.auth.Auth.Persistence.LOCAL)})).catch((function(e){var t=e.message;alert(t)}))},x=function(){d.a.auth().signInAnonymously().then((function(e){console.log(e)})).catch((function(e){var t=e.message;console.log(t)}))};return Object(C.jsx)("div",{children:n?Object(C.jsx)("div",{children:Object(C.jsx)(ce,{user:s,isAuthorized:n})}):Object(C.jsx)("div",{className:"home-body",children:Object(C.jsx)("header",{className:"home-showcase",children:Object(C.jsxs)("div",{className:"home-content md:pt-32",children:[Object(C.jsx)("img",{src:"/assets/kronos.png",className:"home-logo text-center m-auto",alt:"Traversy Media"}),Object(C.jsx)("div",{className:"home-title mb-4",children:"Kronos Tracker"}),Object(C.jsxs)("div",{className:"flex flex-col justify-items-center",children:[Object(C.jsxs)("button",{onClick:j,className:"flex items-center justify-center bg-red-400 hover:bg-red-700 focus:outline-none text-white font-bold py-2 px-4 rounded w-48 mx-auto ",children:["Continue with",Object(C.jsx)("img",{src:"/assets/google.svg",style:{height:"25px",width:"25px",paddingLeft:"8px"}})]}),Object(C.jsxs)("button",{onClick:x,className:"bg-blue-500 hover:bg-blue-700 text-white flex items-center focus:outline-none justify-center font-bold py-2 px-4 rounded mx-auto w-52 mt-4",children:["Sign in as guest",Object(C.jsx)(u.a,{icon:b.q,size:"2x",className:"pl-4"})]})]})]})})})})};var ae=function(){return Object(C.jsx)(s.a,{children:Object(C.jsx)(i.c,{children:Object(C.jsx)(i.a,{path:"/",exact:!0,component:re})})})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,282)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),o(e),c(e),r(e),a(e)}))};a.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(ae,{})}),document.getElementById("root")),se()}},[[244,1,2]]]);
//# sourceMappingURL=main.ba70f8fe.chunk.js.map